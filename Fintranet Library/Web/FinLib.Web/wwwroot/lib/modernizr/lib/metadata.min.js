/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/modernizr@3.11.4/lib/metadata.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var fs=require("fs"),file=require("file"),MarkdownIt=require("markdown-it"),polyfills=require("./polyfills.json"),viewRoot=fs.realpathSync(__dirname+"/../feature-detects");function metadata(e){var r=[],a=new MarkdownIt;return file.walkSync(viewRoot,(function(e,n,t){t.forEach((function(n){if(".DS_Store"!==n){var t,o=fs.readFileSync(e+"/"+n,"utf8"),s=o.match(/\/\*\!([\s\S]*)\!\*\//m),l=o.match(/\/\*\sDOC([\s\S]*?)\*\//m),i=o.match(/define\((\[[^\]]*\]),/);if(s&&s[1])try{t=JSON.parse(s[1])}catch(e){throw new Error("Error Parsing Metadata: "+n+"\nInput: `"+s[1]+"`")}else t={};var c=null;l&&l[1]&&(c=a.render(l[1].trim())),t.doc=c;var f,d=[];if(!i||!i[1])throw new Error("Couldn't find the define for `"+n+"`");try{f=JSON.parse(i[1].replace(/'/g,'"'))}catch(e){throw new Error("Couldn't parse dependencies for `"+n+"`:\n`"+i[1]+"\n`")}f.forEach((function(e){"Modernizr"!==e&&d.push(e)})),t.deps=d;var p=__dirname.replace(/lib$/,"");t.path="./"+(e+"/"+n).replace(p,"").replace(/\\/g,"/"),t.amdPath=t.path.replace(/^\.\/feature\-detects/,"test").replace(/\.js$/i,""),t.name||(t.name=t.amdPath);var u=[];t.polyfills&&t.polyfills.length&&t.polyfills.forEach((function(e){if(!polyfills[e])throw new Error(t.name+": Polyfill not found in `"+n+"`: "+e);u.push(polyfills[e])})),t.polyfills=u,t.async||(t.async=!1),t.notes||(t.notes=[]),t.warnings||(t.warnings=[]),t.caniuse||(t.caniuse=null),!t.cssclass&&t.property?t.cssclass=t.property:t.cssclass=null,!t.doc&&t.docs&&(t.doc=t.docs,delete t.docs),t.tags||(t.tags=[]),t.authors||(t.authors=[]),t.knownBugs||(t.knownBugs=[]),r.push(t)}}))})),e&&"function"==typeof e?e(r):r}module.exports=metadata;
//# sourceMappingURL=/sm/98f208f19fc04315aec6ded34f5b50a4277c277dd32920fb38dcc2027bea42ab.map