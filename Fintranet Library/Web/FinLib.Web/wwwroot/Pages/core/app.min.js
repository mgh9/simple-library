function detectIE(){var n=window.navigator.userAgent,t=n.indexOf("MSIE ");return 0<t?parseInt(n.substring(t+5,n.indexOf(".",t)),10):0<n.indexOf("Trident/")?(t=n.indexOf("rv:"),parseInt(n.substring(t+3,n.indexOf(".",t)),10)):(t=n.indexOf("Edge/"),0<t?parseInt(n.substring(t+5,n.indexOf(".",t)),10):!1)}function handleError400(n,t){var i=t.message;n.notify(i,NotifyTypes.Error)}function handleError404(n){n.notify("an error happened when processing your request. code 404",NotifyTypes.Error)}function handleError405(n,t){var i=t.message||"You don't have permission for this operation. code 405";n.notify(i,NotifyTypes.Error)}function handleError429(n,t){var i=t.message;n.notify(i,NotifyTypes.Error)}function handleError500(n,t){var i=t.message;n.notify(i,NotifyTypes.Error)}function makePaging(n,t){var i=[],f,r,u;for(f=t,r=t-1,u=t+1;r!=0&&r!=f-6;)i.push(r),r--;for(i.reverse(),i.push(f);u<n+1&&u<f+6;u++)i.push(u);return i}var altairApp=angular.module("altairApp",["ngCookies","ui.router","oc.lazyLoad","ngSanitize","ngRetina","ncy-angular-breadcrumb","angularMoment","ConsoleLogger"]);altairApp.constant("variables",{header_main_height:48,easing_swiftOut:[.4,0,.2,1],bez_easing_swiftOut:$.bez([.4,0,.2,1])});altairApp.config(function(n){n.resourceUrlWhitelist(["self","https://www.youtube.com/**","https://w.soundcloud.com/**"])});altairApp.config(function(n){n.setOptions({prefixStateName:"restricted.dashboard",templateUrl:"app/templates/breadcrumbs.tpl.html"})});altairApp.run(["$rootScope","$state","$stateParams","$http","$window","$location","$timeout","preloaders","variables","AccountService",function(n,t,i,r,u,f,e,o,s,h){n.ver=ver;n.$state=t;n.$stateParams=i;n.isActionExecuting=!1;n.$on("GetUserInfoRequested",function(){h.getLoggedInUserInfo().then(function(t){var i=t.data;i.success?n.userInfo=i.data:window.location.href="/"},n.handleError)});n.getUserDisplay=function(){return n.userInfo?"".concat(n.userInfo.firstName," ").concat(n.userInfo.lastName):""};n.getLoggedInUserRoleName=function(){var t=this,u=t.$scope,i=t.$root,r=_.find(n.userInfo.userRoles,function(n){return n.id==i.userInfo.defaultUserRoleId});return r.roleName};n.getLoggedInUserApplicationRole=function(){var t=this,i=t.$scope,r=t.$root;return ApplicationRole[n.getLoggedInUserRoleName()]};n.getLoggedInUserRoleId=function(){var t=this,i=t.$scope,r=t.$root;return n.userInfo.defaultUserRoleId};n.getLoggedInUserId=function(){var t=this,i=t.$scope,r=t.$root;return n.userInfo.id};n.getActiveRoleTitle=function(){if(n.userInfo){var t=n.userInfo.userRoles.filter(function(t){return t.id==n.userInfo.defaultUserRoleId})[0];return t.roleTitle}return""};n.$broadcast("GetUserInfoRequested");n.admOptions={calType:"gregorian",dtpType:"date",format:"YYYY/MM/DD",autoClose:!0,multiple:!1};n.admTimeOptions={calType:"gregorian",dtpType:"date&time",format:"YYYY/MM/DD hh:mm",autoClose:!0,multiple:!1};n.selectizeConfig={hideSelected:!1,create:!1,maxItems:1,placeholder:"Select...",valueField:"value",labelField:"title",searchField:"title"};n.autocompleteConfig={param:"text",source:"/api/Users/Autocomplete",minLength:2};n.checkAuthentication=function(t){n.isAuthenticated=t;t||e(function(){window.location.href="/"})};n.handleError=function(t,i){var o,e,u;if(!i){if(o=this,t.status==400&&t.data){handleError400(n,t.data);return}if(t.status==404){handleError404(n,t.data);return}if(t.status==405&&t.data){handleError405(n,t.data);return}if(t.status==429&&t.data){handleError429(n,t.data);return}if(t.status==500&&t.data){handleError500(n,t.data);return}if(e=!t.status,e){if(t&&t[0].data){var f=t[0].data,r=f.error,s=r.ClassName,u="Something wrong happened in your request";if(f.message)u=f.message;else{if(r&&s.indexOf("LogoutException")>=0){n.notify("You were logged out, please login again...",NotifyTypes.Warning);return}r&&r.InnerException&&r.InnerException.Message?u=r.InnerException.Message:r&&r.Message&&(u=r.Message)}n.notify(u,NotifyTypes.Error)}}else t&&t.data&&JSON.stringify(t.data)!="{}"&&t.data.userFriendlyMessage?(u=t.data.userFriendlyMessage+"\nError code:"+t.data.errorId,n.notify(u,NotifyTypes.Error)):(u="Error in processing your request",n.notify(u,NotifyTypes.Error))}};n.handleHttpError=function(){};n.onKeyDown=function(n){console.log(n.keyCode==65);n.ctrlKey&&n.shiftKey&&n.keyCode==65&&setTimeout(function(){$(".btn-add").click()})};n.notifySuccessfullAction=function(){n.notify("Successfully done",NotifyTypes.Success)};n.notify=function(n,t){n=n||"Something happened in processing your request";t==undefined&&(t=NotifyTypes.Success);var i="";switch(t){case NotifyTypes.Success:i="success";break;case NotifyTypes.Warning:i="warning";break;case NotifyTypes.Error:i="error"}n=n.replace(/\n/g,"<br />");UIkit.notify({message:n,status:i,pos:"top-center",timeout:5e3})};n.$on("$stateChangeSuccess",function(t,i,r,f,o){$(".uk-modal.uk-open").length&&UIkit.modal(".uk-modal.uk-open").hide(!0);n.fromParams=o;n.fromState=f;$("html, body").animate({scrollTop:0},200);detectIE()&&$("svg,canvas,video").each(function(){$(this).css("height",0)});e(function(){n.pageLoading=!1},300);e(function(){n.pageLoaded=!0;n.appInitialized=!0;u.Waves.attach(".md-btn-wave,.md-fab-wave",["waves-button"]);u.Waves.attach(".md-btn-wave-light,.md-fab-wave-light",["waves-button","waves-light"]);detectIE()&&$("svg,canvas,video").each(function(){var n=$(this),i=$(this).attr("height"),r=$(this).attr("width"),t;i&&n.css("height",i);r&&n.css("width",r);t=n.prev(".peity_data,.peity");t.length&&t.peity().change()})},600)});n.$on("$stateChangeStart",function(t,i,r){i.name!="restricted.management.userProfile"&&i.name!="login"&&n.menus&&n.menus.filter(function(n){return n.route==i.name}).length==0;n.mainSearchActive=!1;n.sidebar_secondary=!1;n.secondarySidebarHiddenLarge=!1;$(u).width()<1220&&(n.primarySidebarActive=!1,n.hide_content_sidebar=!1);r.hasOwnProperty("hidePreloader")||(n.pageLoading=!0,n.pageLoaded=!1)});n.$on("$locationChangeStart",function(t,i,r){n.previousRoute=r});n.backToPreviousRoute=function(){n.previousRoute&&f.path(n.previousRoute)};FastClick.attach(document.body);n.Modernizr=Modernizr;var c=angular.element(u);n.largeScreen=c.width()>=1220;c.on("resize",function(){return n.largeScreen=c.width()>=1220});n.primarySidebarOpen=n.largeScreen;n.pageLoading=!0;u.Waves.init()}]).run(["PrintToConsole",function(n){n.active=!1}]);